<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../../bower_components/neon-animation/animations/fade-out-animation.html">

<link rel="import" href="../file-input/file-input.html">
<link rel="import" href="../pkm-list/pkm-list.html">

<dom-module id="data-dumper">
    <link rel="import" type="css" href="../../styles/paper-dialog.css">
    <style is="custom-style">
        :host {
            display: block;
        }

        .horizontal {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .filler {
            flex-grow: 1;
        }

        .old-key {
            color: red;
            font-weight: bold;
            font-size: .8em;
        }

        paper-tooltip {
            white-space: nowrap;
        }
    </style>
    <link rel="import" type="css" href="../../styles/paper-material.css">
    <template>
        <paper-dialog id="dialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
            <div>{{dialogMessage}}</div>
            <div class="buttons">
                <paper-button dialog-confirm>Ok</paper-button>
            </div>
        </paper-dialog>
        <paper-material elevation="1">
            <file-input id="input" path="{{path}}" options="[[fileOptions]]"></file-input>
            <p class="old-key" hidden$="{{isNewKey}}">OLD KEY: SAVING TWICE REQUIRED</p>
            <div class="horizontal">
                <div class="horizontal" hidden$="{{hideSaveControls}}">
                    <paper-slider min="1" max="31" value="{{lowerBox}}" pin="true"></paper-slider>
                    <paper-slider min="{{lowerBox}}" max="31" value="{{upperBox}}" pin="true"></paper-slider>
                </div>
                <paper-radio-group selected="{{team}}" class="horizontal" hidden$="{{hideBvControls}}">
                        <paper-radio-button name="myTeam">My Team</paper-radio-button>
                        <paper-radio-button name="enemyTeam" disabled="{{!enemyDumpable}}">Enemy Team</paper-radio-button>
                </paper-radio-group>
                <div class="filler"></div>
                <div>
                    <paper-icon-button icon="icons:backup" on-tap="backup"></paper-icon-button>
                    <paper-tooltip>Backup Save</paper-tooltip>
                </div>
            </div>
        </paper-material>
        <pkm-list id="results" format-string="{{format.format}}" format-header="{{format.header}}" format-name="{{format.name}}" lower-box="{{lowerBox}}" upper-box="{{upperBox}}" file-name="{{path}}" language="{{language}}"></pkm-list>
    </template>
    <script src="data-dumper.js"></script>
</dom-module>
