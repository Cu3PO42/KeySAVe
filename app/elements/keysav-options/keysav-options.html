<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">

<dom-module id="keysav-options">
    <link rel="import" type="css" href="../../styles/paper-material.css">
    <link rel="import" type="css" href="../../styles/paper-dialog.css">
    <style is="custom-style">
        .horizontal {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .horizontal paper-textarea, paper-input {
            flex-grow: 1;
        }

        :host {
            --paper-menu-selected-item: {
                color: var(--accent-color);
            }
        }

        paper-dialog > *:not(:first-child) {
            margin-top: 5px;
        }

        paper-textarea /deep/ textarea {
            font-family: "Fira Mono", monospace !important;
            font-size: smaller !important;
            letter-spacing: -1px;
        }
    </style>
    <template>
        <paper-material elevation="1">
            <h2>Formatting</h2>
            <paper-dropdown-menu label="Language">
                <paper-menu class="dropdown-content" attr-for-selected="data-index" selected="{{language}}">
                    <paper-item data-index="en">English</paper-item>
                    <paper-item data-index="ja">Japanese</paper-item>
                    <paper-item data-index="de">German</paper-item>
                    <paper-item data-index="fr">French</paper-item>
                    <paper-item data-index="it">Italian</paper-item>
                    <paper-item data-index="es">Spanish</paper-item>
                    <paper-item data-index="ko">Korean</paper-item>
                </paper-menu>
            </paper-dropdown-menu>
            <div class="horizontal">
                <paper-dropdown-menu label="Formatting Option" id="dropdown">
                    <paper-menu class="dropdown-content" selected="{{selectedFormatIndex}}" id="formatSelectorMenu">
                        <template is="dom-repeat" items="[[formattingOptions]]">
                            <paper-item>[[item.name]]</paper-item>
                        </template>
                    </paper-menu>
                </paper-dropdown-menu>
                <paper-input id="format-name" label="Format Name" value="{{selectedFormat.name}}" on-value-changed="selectedFormatNameChanged" disabled="{{selectedFormat.isDefault}}"></paper-input>
                <div>
                    <paper-icon-button icon="icons:create" on-tap="cloneFormatOption"></paper-icon-button>
                    <paper-tooltip>Clone</paper-tooltip>
                </div>
                <div>
                    <paper-icon-button icon="icons:add" on-tap="addFormatOption"></paper-icon-button>
                    <paper-tooltip>Add</paper-tooltip>
                </div>
                <div>
                    <paper-icon-button icon="icons:delete" on-tap="deleteFormatOption" disabled="{{selectedFormat.isDefault}}"></paper-icon-button>
                    <paper-tooltip>Delete</paper-tooltip>
                </div>
            </div>
            <div class="horizontal">
                <paper-textarea label="Format header" value="{{selectedFormat.header}}" disabled="{{selectedFormat.isDefault}}"></paper-textarea>
                <div>
                    <paper-icon-button icon="icons:autorenew" on-tap="generateHeader" disabled="{{selectedFormat.isDefault}}"></paper-icon-button>
                    <paper-tooltip>Reset</paper-tooltip>
                </div>
            </div>
            <paper-textarea label="Format string" value="{{selectedFormat.format}}" disabled="{{selectedFormat.isDefault}}"></paper-textarea>
        </paper-material>
    </template>
    <script src="keysav-options.js"></script>
</dom-module>
