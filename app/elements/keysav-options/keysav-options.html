<link href="../../bower_components/paper-dialog/paper-dialog.html" rel="import">
<dom-module id="keysav-options">
    <link rel="import" type="css" href="../../styles/paper-material.css">
    <style is="custom-style">
        .horizontal {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        #format-name {
            flex-grow: 1;
            margin-left: 1em;
        }

        paper-button[dialog-confirm] {
            font-weight: bold;
            color: var(--accent-color);
        }

        paper-button[dialog-dismiss] {
            color: black;
        }

        .buttons {
            display: flex;
            justify-content: flex-end;
        }

        paper-dialog {
            background-color: var(--text-primary-color);
            color: var(--primary-text-color);
            text-align: center;
        }

        paper-dialog > *:not(:first-child) {
            margin-top: 5px;
        }

        paper-textarea /deep/ textarea {
            font-family: "Fira Mono", monospace !important;
            font-size: smaller !important;
            letter-spacing: -1px;
        }
    </style>
    <template>
        <paper-material elevation="1">
            <h2>Formatting</h2>
            <div class="horizontal">
                <paper-select items="[[formatNames]]" selected="{{selectedFormatIndex}}" resize="true"></paper-select>
                <paper-input id="format-name" label="Format Name" value="{{selectedFormat.name}}" on-value-changed="selectedFormatNameChanged"></paper-input>
                <paper-icon-button icon="icons:add" on-tap="addFormatOption"></paper-icon-button>
                <paper-icon-button icon="icons:delete" on-tap="deleteFormatOption"></paper-icon-button>
            </div>
            <paper-textarea label="Format string" value="{{selectedFormat.format}}"></paper-textarea>
        </paper-material>
        <paper-material elevation="1">
            <div class="horizontal">
                <h2>Break</h2>
                <paper-button on-click="break" raised>Break</paper-button>
            </div>
            <file-input button-text="File 1" path="{{file1}}" options="[[fileOptions]]"></file-input>
            <file-input button-text="File 2" path="{{file2}}" options="[[fileOptions]]"></file-input>
        </paper-material>
        <paper-dialog id="dialogBreakDone" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal>
            <template is="dom-repeat" items="{{breakMessage}}">
                <div>{{item}}</div>
            </template>
            <div class="buttons">
                <paper-button dialog-dismiss on-click="cancelBreak">Discard</paper-button>
                <paper-button dialog-confirm on-click="saveBreak">Ok</paper-button>
            </div>
        </paper-dialog>
        <paper-dialog id="dialogFileInvalid" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
            <div>
                Sorry, this file is neither an encrypted save file nor a battle video!
            </div>
            <div class="buttons">
                <paper-button dialog-confirm>Ok</paper-button>
            </div>
        </paper-dialog>
        <paper-dialog id="dialogBreakNotSameFiles" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
            <div>
                Please select the same type of file for both files.
            </div>
            <div class="buttons">
                <paper-button dialog-confirm>Ok</paper-button>
            </div>
        </paper-dialog>
    </template>
    <script src="keysav-options.js"></script>
</dom-module>
